{% load static %}
<link href='{% static "bower_components/fullcalendar/dist/fullcalendar.css" %}' rel='stylesheet' />
<link href='{% static "bower_components/fullcalendar/dist/fullcalendar.print.css" %}' rel='stylesheet' media='print' />
<script src='{% static "bower_components/moment/moment.js" %}'></script>
<script src='{% static "bower_components/jquery/dist/jquery.min.js" %}'></script>
<script src='{% static "bower_components/fullcalendar/dist/fullcalendar.min.js" %}'></script>
<script src='{% static "bower_components/fullcalendar/dist/lang-all.js" %}'></script>
<script>

 $(document).ready(function() {
   var url = 'http://127.0.0.1:8000/ru/api/events/?format=json';
   $.get(url).then(function(data){
     var events = [];
     $.each(data, function(i, event) {
       events.push(
         {'title':event.title,
          'start': event.start_date,
          }
       )
     });

     console.log(events);

     $('#calendar').fullCalendar({
       lang: 'ru',
       header: {
         left: 'prev,next today',
         center: 'title',
         right: 'month,agendaWeek,agendaDay'
       },
       timezone: 'Europe/Moscow',
       defaultDate: '2016-01-12',
       editable: true,
       eventLimit: true, // allow "more" link when too many events
       events: events
     });

   });


 });

</script>
